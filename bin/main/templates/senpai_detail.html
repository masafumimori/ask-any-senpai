<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/reset.min.css" />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.14.0/css/all.css"
    />
    <link rel="stylesheet" href="/css/default.min.css" />
    <link rel="stylesheet" href="/css/page-header.min.css" />
    <link rel="stylesheet" href="/css/page-footer.min.css" />
    <link rel="stylesheet" href="/css/senpai_page.min.css" />
    <link rel="stylesheet" href="/css/bottom-follow.min.css" />
    <title>Ask Any-Senpai</title>
  </head>
  <body>
    <!-- Header -->
    <header th:insert="fragments/page_header::pageHeader"></header>

    <!-- Senpai details -->
    <section class="senpai-details">
      <div class="senpai-box">
       <h2>先輩のプロフィール</h2>
       <!-- Profile image-->
       <div class="senpai-img">
         <img
           th:if="${senpai.twitter != null && senpai.twitter != ''}"
           th:src="@{'https://unavatar.now.sh/twitter/' + ${senpai.twitter}}"
           alt="Twitterプロフィール画像"
         />
         <img th:if="${senpai.twitter == null || senpai.twitter == ''}" class="default-pic" src="/img/default-boy.png" alt="デフォルト画像" />
       </div>
       <!-- User name -->
       <div class="senpai-items">
         <p>ユーザー名：<span th:text="${senpai.userName}"/></span></p>
       </div>
       <!-- Email -->
       <div class="senpai-items">
         <p>メールアドレス：<span th:text="${senpai.email}"/></span></p>
       </div>
       <!-- Area -->
       <div class="senpai-items" >
         <p>留学した地域：
            <span th:if="${senpai.area != null && senpai.area != ''}" id="showArea"></span>
            <span th:if="${senpai.area == null || senpai.area == ''}" th:text="未登録"/></span>
         </p>
       </div>
       <!-- Nation -->
       <div class="senpai-items">
         <p>留学した国：
           <span th:if="${senpai.nation != null && senpai.nation != ''}" id="showNation"></span>
           <span th:if="${senpai.nation == null || senpai.nation == ''}" th:text="未登録"/></span>
       </p>
       </div>
       <!-- SNS -->
       <div class="senpai-items">
         <p>登録しているSNS：
           <span th:if="${senpai.twitter == null || senpai.twitter == ''} and ${senpai.instagram == null || senpai.instagram == ''} and ${senpai.facebook == null || senpai.facebook == ''}" th:text="未登録"></span>
           <!-- Twitter -->
            <span th:if="${senpai.twitter == null || senpai.twitter == ''}" /></span>
            <span th:if="${senpai.twitter != null && senpai.twitter != ''}">
              <a
              th:href="@{'https://twitter.com/' + ${senpai.twitter}}"
              class="twitter"
              target="_blank"
              ><i class="fab fa-twitter"></i
              ></a>
            </span>
            <!-- Instagram -->
            <span th:if="${senpai.instagram == null || senpai.instagram == ''}" /></span>
            <span th:if="${senpai.instagram != null && senpai.instagram != ''}">
              <a
              th:href="@{'https://instagram.com/' + ${senpai.instagram}}"
              class="instagram"
              target="_blank"
              ><i class="fab fa-instagram"></i
              ></a>
            </span>
            <!-- Facebook -->
            <span th:if="${senpai.facebook == null || senpai.facebook == ''}" /></span>
            <span th:if="${senpai.facebook != null && senpai.facebook != ''}">
              <a
              th:href="@{'https://facebook.com/' + ${senpai.facebook}}"
              class="facebook"
              target="_blank"
              ><i class="fab fa-facebook"></i
              ></a>
            </span>
          </p>
       </div>
      </div>
    </section>
    
    <!-- jQuery CDN -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script th:inline="javascript">
      /*<![CDATA[*/

      $(() => {

        // Display AREA if it's set in DB
        Object.keys(areas).forEach((area) => {
          if(area == /*[[${senpai.area}]]*/){
            $('#showArea').text(areas[area]);
          }
        });

        // Display NATION if it's set in DB
        Object.keys(nations).forEach((nation) => {
          if(nation == /*[[${senpai.nation}]]*/){
            $('#showNation').text(nations[nation]);
          }
        });

      });

      const areas = {
        asia: "アジア",
        europe: "ヨーロッパ",
        america: "アメリカ",
        africa: "アフリカ",
        others: "その他"
      };

      const nations = {
        america: "アメリカ",
        canada: "カナダ",
        england: "イギリス",
        australia: "オーストラリア",
        newzealand: "ニュージーランド",
        italy: "イタリア",
        spain: "スペイン",
        germany: "ドイツ",
        france: "フランス",
        portugal: "ポルトガル",
        china: "中国",
        korea: "韓国",
        philippines: "フィリピン",
        thailand: "タイ",
        vietnam: "ベトナム",
        others: "その他"
      };

      /*]]>*/
    </script>
  </body>
</html>
